<VirtualHost *:80>
    DocumentRoot /var/www/html

    # This should be secured!
    <Location "/balancer-manager">
        SetHandler balancer-manager
    </Location>

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    ProxyPreserveHost On

    # ----- USER -----
    # Forward requests for registrating a user
    ProxyPass        /user/register http://user:8080/user/register
    ProxyPassReverse /user/register http://user:8080/user/register

    # Forward requests for checking if a user exists
    ProxyPass        /users/exists http://user:8080/users/exists
    ProxyPassReverse /users/exists http://user:8080/users/exists

    # Forward requests for deleting a user by ID
    ProxyPass        /user/ http://user:8080/user/
    ProxyPassReverse /user/ http://user:8080/user/

    # Forward requests for getting a user
    ProxyPass        /user http://user:8080/user
    ProxyPassReverse /user http://user:8080/user

    # Forward requests for geting a role
    ProxyPass        /role http://user:8080/role
    ProxyPassReverse /role http://user:8080/role

    # ----- CATEGORY -----
    # Forward requests for getting all categories
    ProxyPass        /categories http://category:8080/categories
    ProxyPassReverse /categories http://category:8080/categories

    # Forward requests for getting and deleting a category by ID
    ProxyPass        /category/ http://category:8080/category/
    ProxyPassReverse /category/ http://category:8080/category/

    # Forward requests for getting, adding and deleting a category
    ProxyPass        /category http://category:8080/category
    ProxyPassReverse /category http://category:8080/category

    # ----- PRODUCT ------
    # Forward requests for searching products
    ProxyPass        /products/search http://product:8080/products/search
    ProxyPassReverse /products/search http://product:8080/products/search

    # Forward requests for getting all products or deleting them
    ProxyPass        /products http://product:8080/products
    ProxyPassReverse /products http://product:8080/products

    # Forward requests for getting and deleting a product by ID
    ProxyPass        /product/ http://product:8080/product/
    ProxyPassReverse /product/ http://product:8080/product/

    # Forward requests for getting and adding a product
    ProxyPass        /product http://product:8080/product
    ProxyPassReverse /product http://product:8080/product


</VirtualHost>
